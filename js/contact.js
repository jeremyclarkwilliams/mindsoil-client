var ContactBox=React.createClass({displayName:"ContactBox",handleContactSubmit:function e(t){$(".message").text("Sending message..."),$.ajax({url:this.props.url,type:"POST",contentType:"application/x-www-form-urlencoded",data:t,success:function(e){setTimeout(function(){e?($(".message").text("Thanks for contacting Mindsoil."),$(".label").removeClass("valid invalid"),$("#btn-submit").prop("disabled",!0)):$(".message").text("Message could not be sent. Please try again.")},2e3)}.bind(this),error:function(e,t,a){console.error(this.props.url,t,a.toString())}.bind(this)})},render:function t(){return React.createElement("div",{className:"container"},React.createElement("h2",{className:"hdr hdr-home"},"Get in touch."),React.createElement("h2",{className:"hdr hdr-contact"},"Say hello."),React.createElement(ContactForm,{onContactSubmit:this.handleContactSubmit}))}}),ContactForm=React.createClass({displayName:"ContactForm",getInitialState:function a(){return{name:"",email:"",message:""}},handleNameChange:function n(e){this.setState({name:e.target.value})},handleEmailChange:function s(e){this.setState({email:e.target.value})},handleMessageChange:function i(e){this.setState({message:e.target.value})},handleValidity:function l(e,t){var a=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i;t=t.trim(),!t||"email"===e&&!a.test(t)?$("[for=contact-"+e+"]").addClass("invalid").removeClass("valid"):$("[for=contact-"+e+"]").addClass("valid").removeClass("invalid"),$(".label.valid").length===$(".label").length?$("#btn-submit").prop("disabled",!1):$("#btn-submit").prop("disabled",!0)},handleSubmit:function m(e){e.preventDefault();var t=this.state.name.trim(),a=this.state.email.trim(),n=this.state.message.trim();this.props.onContactSubmit({name:t,email:a,message:n}),setTimeout(function(){this.setState({name:"",email:"",message:""})}.bind(this),2e3)},render:function c(){return React.createElement("form",{className:"form",onSubmit:this.handleSubmit,novalidate:!0},React.createElement("label",{htmlFor:"contact-name",className:"label"},"Name"),React.createElement("input",{type:"text",id:"contact-name",className:"input",name:"name",value:this.state.name,onChange:this.handleNameChange,onKeyUp:this.handleValidity.bind(this,"name",this.state.name)}),React.createElement("label",{htmlFor:"contact-email",className:"label"},"Email"),React.createElement("input",{type:"email",id:"contact-email",className:"input",name:"email",value:this.state.email,onChange:this.handleEmailChange,onKeyUp:this.handleValidity.bind(this,"email",this.state.email)}),React.createElement("label",{htmlFor:"contact-message",className:"label"},"Message"),React.createElement("textarea",{id:"contact-message",className:"textarea",name:"message",value:this.state.message,onChange:this.handleMessageChange,onKeyUp:this.handleValidity.bind(this,"message",this.state.message)}),React.createElement("input",{type:"submit",name:"submit",id:"btn-submit",className:"btn-submit",value:"Send",disabled:!0}),React.createElement("p",{className:"message"}))}});ReactDOM.render(React.createElement(ContactBox,{url:"form/contact.php"}),document.getElementById("section-contact"));