var LoginBox=React.createClass({displayName:"LoginBox",handleLoginSubmit:function e(a){$(".message").text("Logging in..."),$.ajax({url:this.props.url,type:"POST",data:a,dataType:"json",success:function(e){setTimeout(function(){e.disabled?$(".message").text("Account has been disabled."):e.valid?window.location=window.location.href+"/"+e.user:$(".message").text("Email or password incorrect.")},2e3)}.bind(this),error:function(e,a,t){$(".message").text("An error has occurred. Please try again.")}.bind(this)})},render:function a(){return React.createElement("div",{className:"container"},React.createElement("h2",{className:"hdr"},"Client Access"),React.createElement(LoginForm,{onLoginSubmit:this.handleLoginSubmit}))}}),LoginForm=React.createClass({displayName:"LoginForm",getInitialState:function t(){return{email:"",password:""}},handleEmailChange:function i(e){this.setState({email:e.target.value})},handlePasswordChange:function n(e){this.setState({password:e.target.value})},handleValidity:function s(e,a){var t=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i;a=a.trim(),!a||"email"===e&&!t.test(a)?$("[for=login-"+e+"]").addClass("invalid").removeClass("valid"):$("[for=login-"+e+"]").addClass("valid").removeClass("invalid"),$(".label.valid").length===$(".label").length?$("#btn-login").prop("disabled",!1):$("#btn-login").prop("disabled",!0)},handleSubmit:function l(e){e.preventDefault();var a=this.state.email.trim(),t=this.state.password.trim();this.props.onLoginSubmit({email:a,password:t})},render:function o(){return React.createElement("form",{className:"form",onSubmit:this.handleSubmit,novalidate:!0},React.createElement("label",{htmlFor:"login-email",className:"label"},"Email"),React.createElement("input",{type:"email",id:"login-email",className:"input",name:"email",value:this.state.email,onChange:this.handleEmailChange,onKeyUp:this.handleValidity.bind(this,"email",this.state.email)}),React.createElement("label",{htmlFor:"login-password",className:"label"},"Password"),React.createElement("input",{type:"password",id:"login-password",className:"input",name:"password",value:this.state.password,onChange:this.handlePasswordChange,onKeyUp:this.handleValidity.bind(this,"password",this.state.password)}),React.createElement("input",{type:"submit",name:"submit",id:"btn-login",className:"btn-login",value:"Login",disabled:!0}),React.createElement("p",{className:"message"}))}});ReactDOM.render(React.createElement(LoginBox,{url:"client/login.php"}),document.getElementById("section-client"));